# ⠀ ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡠⢊⠉⠀⠀⠐⠁⠀⠀⠀⠀⠀⠈⠄⠀⠀⢉⠓⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
# ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⡞⠀⠀⠀⠀⠀⠛⡀⠀⠀⠀⠀⠀⣂⠰⠀⠀⠀⡀⠈⠢⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
# ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢴⠱⠀⠀⠀⠀⠀⢰⠅⣷⣶⣻⣩⣏⣟⣥⡨⡄⠀⢀⠁⠀⠐⠙⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
# ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣸⢀⣆⠀⠀⠐⡈⠀⠐⠋⠀⠀⠀⠀⠀⠀⡀⠉⠁⠀⠀⠀⠀⠰⠢⠼⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
# ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠰⠃⠀⠈⠀⠀⠀⠈⠀⠀⠀⠀⠉⠉⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
# ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⠃⠀⠀⣠⢆⣐⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡴⡧⠔⡢⠀⠀⢁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
# ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢼⠀⠀⣰⣗⡑⣁⠞⠓⢄⠠⠄⠀⠀⠀⠀⠄⠀⠀⠀⢄⡰⠛⠫⡈⠫⣬⣐⡄⢸⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
# ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡠⢼⠂⢐⣹⠊⢰⠃⠀⠀⠀⠉⠢⣂⣤⣖⣲⣤⡤⠤⠂⠃⠀⠀⠀⢈⠘⣧⡿⠂⢸⠦⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
# ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠜⢠⢾⡇⠀⢻⡼⠋⢅⠀⠀⠀⠀⠀⠑⠉⠤⠀⠈⠋⠀⠀⠀⠀⠀⠀⡎⢻⣜⠃⠀⣸⢗⡌⠢⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣄⣀⠀⠀⠀⠀⠀⠀⠀⠀
# ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⡜⠇⠀⡟⢦⣷⡀⠀⠳⢃⢈⢆⠀⠀⠠⠠⠀⠀⠀⠀⠀⠀⠀⠄⠀⠀⣀⠜⣌⠛⢁⠄⣰⣿⣣⢛⠀⠱⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢰⠱⠀⢄⡈⢢⠀⠀⠀⠀⠀⠀
# ⠀⠀⠀⠀⠀⠀⠀⠀⣀⡴⣎⣻⣭⠹⢿⡙⠲⣄⡠⠔⠊⢽⣽⢀⠄⠀⢻⣼⣿⣷⡀⠀⠀⠂⣢⠉⡄⠀⠀⠀⠀⠀⠀⠀⠀⠈⠀⠀⠀⠀⠬⠂⠀⠊⣰⣿⣿⣏⢸⠇⢀⢳⢀⣀⠀⠀⠀⠀⠀⡀⠤⠤⢀⠇⠆⠀⠀⠀⠈⠆⠀⠀⠀⠀⠀
# ⠀⠀⠀⠀⠀⠀⡠⢞⢣⠖⠋⠁⠀⠀⠀⣅⣱⢣⣆⣰⣾⠿⠹⠀⠂⠿⢸⢿⣿⡏⣿⣄⠀⠤⠌⢃⡸⡄⠠⠀⠀⣀⣀⣀⠀⠀⠀⡰⢀⢊⣀⠀⢠⣾⡇⢿⣿⢋⢾⠄⡀⠘⣄⣀⡠⢐⣂⠒⢸⠁⢦⠀⡘⢸⠀⠀⠰⢀⣀⠸⡀⠀⠀⠀⠀
# ⠀⠀⠀⠀⢀⡜⢉⢠⠏⠀⠀⠀⠀⣀⠠⢍⣸⠀⢰⠖⢱⠀⢇⠡⠀⠠⢆⡎⣿⠀⣾⢿⣦⠈⡖⣶⠃⠘⠧⠔⠋⠉⠉⠉⠤⠤⢾⠋⣷⣖⡄⣠⢿⠙⣧⢸⠃⠞⡸⠀⠈⠎⠠⣶⣶⣶⣥⡴⡓⢄⠀⢩⠃⡇⠀⠀⣰⠋⠡⡀⣷⣀⡀⠀⠀
# ⠀⠀⠀⣰⠋⡀⢆⣟⡢⢠⡔⠊⠁⣀⡀⢤⡽⡂⠘⡚⣞⠬⢔⡷⢡⢠⠰⠆⠻⠈⣯⣘⢟⢷⡾⣝⠃⠠⠆⠀⡰⠶⡾⠖⠀⠄⢄⢠⣟⣼⡞⢁⣼⡰⠇⣜⠋⣞⢱⠀⠸⠠⠀⠈⠉⠀⠰⠆⢰⢆⣇⢠⡬⠁⠀⠀⠚⢂⠀⠙⠁⠃⠙⢆⠀
# ⠀⢀⡴⠁⠀⠰⣾⣧⢁⠂⢨⠂⠁⠁⠉⠉⣭⠀⠕⠊⡀⠀⠐⠫⣆⣄⡀⣆⠘⠐⡔⢣⠀⠸⡟⣇⡁⠀⡀⠀⠨⠤⠤⠅⠀⠀⠀⣂⡽⢁⡇⢲⣵⢏⡜⠀⠈⠈⡆⠰⣀⡋⠄⠛⠛⠶⠀⢀⡞⡸⡈⡈⠀⠀⡠⠐⠘⠁⠙⠢⣄⣜⢦⠘⣇
# ⢀⡞⠀⠠⡠⣠⣽⡏⢴⣤⢄⡀⠀⠀⡈⠀⣾⢀⠀⠀⠀⣀⠤⠂⠛⢈⢧⣸⠸⠒⡨⣆⠳⣄⡈⠒⢷⣤⣸⣿⠀⠤⠦⢰⣟⣠⡷⠋⡰⠚⣁⣽⠂⢞⡤⠆⠰⣠⢎⠀⡀⡤⠶⠶⠦⣀⡀⢠⢡⡧⠠⠴⡂⠁⠀⠀⢀⠰⠀⠀⠨⡻⣌⢫⡼
# ⡜⠀⠀⠤⠊⠀⢻⣷⠋⡤⠁⠌⠂⠀⢀⠃⠋⠀⢀⠠⠊⠀⢀⠠⠀⠑⢁⣽⠟⢆⠹⢌⠑⠳⠬⣏⡛⠒⡍⠛⢻⣿⣿⡟⠉⢃⠔⠲⣯⠯⠛⠊⣩⠎⠄⠉⠍⠑⠃⠉⣀⣀⣀⠀⠀⠉⠀⡹⠋⢐⢿⠇⠠⠐⠀⠀⠀⠀⠂⠀⠄⠈⠨⢯⣶
# ⠃⠀⠐⠀⡀⠀⠀⡹⡄⠀⠻⢦⣤⡀⠈⠒⢜⡁⠀⠀⡀⠌⠀⢀⡀⠂⠈⢀⠠⢄⣑⡄⠁⠒⠢⡄⠴⠀⢸⢰⣈⣛⣋⣇⡘⡜⠄⡰⠀⠔⠉⠁⠀⠀⠈⠀⠈⠉⠈⠉⠉⠈⠙⠉⠀⠰⢼⠀⠀⡘⠄⠀⡀⢄⠀⢀⠠⠀⢀⠀⠦⠀⠀⠀⣻
# ⡁⠁⠀⢤⡅⠀⠀⠐⢱⡄⠀⠀⠙⠋⠠⠑⠀⠑⠄⠘⠀⠀⠴⠁⢠⡒⠖⠉⠉⠉⠉⠉⠉⠉⠉⠷⡄⠃⠡⢷⣵⣄⠠⢴⣬⣱⣰⡱⠈⠉⠉⠉⠛⠛⠛⠛⠉⠉⠉⠉⠐⠦⡀⠀⠀⠀⣼⣀⠀⣇⠀⠀⠈⠐⠀⠀⠂⠉⠀⠀⠀⠀⠀⠈⠩
# ⡄⠀⠀⠀⠀⡀⠀⠀⠀⠘⠰⠤⠐⠠⣀⠀⠀⠀⢚⡄⠄⠀⢀⡠⠊⠀⠀⠈⠉⠁⠀⠀⠀⠀⠢⡀⡈⠛⠒⢷⠾⠾⠶⠶⠀⠀⠈⢁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠐⠂⠒⠀⠀⠊⠻⣿⣶⣿⠈⡷⠸⡁⠀⠀⡌⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠰
{
  pkgs,
  lib,
  config,
  ...
}:
{
  imports = [
    ../shared/proxmox-vm.nix
    ../shared/static-ip.nix
    ./forgejo.nix
  ];

  config = {
    networking.hostName = lib.mkDefault "gitslayer"; # Define your hostname.
    environment.sessionVariables = {
      NIXOS_CONFIG_NAME = config.networking.hostName;
    };

    system.stateVersion = "24.05"; # Did you read the comment?
  };
}
